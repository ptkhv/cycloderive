# cycloderive
A program inspired by Guy Debord and his concept of the dérive. It helps choose a route for a bicycle trip from one railway station to another.
В репозитории несколько программ, написанных на питоне
0. Spider — объединяет несколько файлов с дорогами в один файл
1. Graphwithoutstation — создаёт из загруженных дорог граф (проводя некоторые операции для исправления разметки карты) и визуализирует его для проверки, что всё в порядке.
3. Roadsandstations — загружает жд-станции и присоединяет их к графу, визуализирует результат
4. Stationtostation — строит 10 случайных маршрутов от станции до станции. Показывает только маршруты, длина которых лежит в некотором интервале (его настраиваете вы), также визуализирует результат.
Кроме этого, есть Overpass-guide, который содержит инструкции по созданию geojson-файлов с помощью сервиса Overpass.

Чуть подробней о том, зачем нужен каждый из этапов и программа для него. 
0. Этап нужен только для удобства; возможно, на следующем этапе потребуется несколько запусков программы, поэтому может быть проще один раз создать файл со всеми дорогами и загружать его, а не добавлять файлы поодиночке. Также есть формальная возможность сразу скачать все дороги с Overpass'а, но фактически скорее всего это будет слишком тяжёлый запрос и страница зависнет.

1. Загружаем файл (или несколько) с дорогами. Программа сшивает разрозненные участки в один граф. Это делается на шагах со второго по шестой. Если данные уже качественные, то можно сэкономить время и не запускать эти этапы. Результат этого этапа — json с графом из дорог и визуализация десяти самых больших компонент. Визуализация позволяет понять, насколько данные подходят для следующего этапа. Если у вас много маленьких компонент, то, вероятно, построить маршрут будет затруднительно.
   
